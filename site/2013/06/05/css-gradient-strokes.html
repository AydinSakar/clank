<!doctype html>
<html ng-app="myApp">
<head>
  <meta charset="utf-8">
  <title>CSS Gradient Strokes - Clank</title>
  <script src="/components/angular/angular.js"></script>
  <script src="/components/angular-cookies/angular-cookies.min.js"></script>

  <script src="/components/prefix-free/prefixfree.min.js"></script>
  
  <script src="/js/controllers.js"></script>
  <script src="/js/filters.js"></script>

  <link rel="stylesheet" href="/css/docs/screen.css" type="text/css" media="screen">
  <link rel="stylesheet" href="/css/clank/application.css" type="text/css" media="screen">
</head>
<body>
  
  <div id="header">
  <div class="inner-content">
    <nav id="nav">
      <a href="/">Home</a>
      <a href="/documentation.html">Documentation</a>
      <a href="/demo.html">Demo</a>
      <a href="/blog.html">Blog</a>
    </nav>
    <a class="github-link" href="https://github.com/Wolfr/clank">Follow Clank on Github</a>
  </div>
</div>


  <div class="page-title-bar">
    <div class="inner-content">
      <h2>The Clank Blog</h2>
    </div>
  </div>

  <div id="blog">
    <div id="blog-single">
      <article>
        <header>
          <h1>CSS Gradient Strokes</h1>
          <p>Posted on June 05, 2013 by Wolfr</p>
        </header>
        <div class="entry-content">
          <p>If you look closely at iOS buttons, you’ll see that they actually have a gradient running in their strokes:</p><p><img src='http://getclank.files.wordpress.com/2013/06/grad-strokes.png?w=584' /></p><p>There is no CSS gradient stroke feature in CSS. Fortunately, we can fake it with pseudo elements.</p><p>In the first version of <a href='https://github.com/Wolfr/clank'>Clank</a>, I had extra elements around my buttons to make it work properly:</p><div class='highlight'><pre><code class='html'>  <span class='nt'>&lt;a</span> <span class='na'>class=</span><span class='s'>&quot;btn&quot;</span><span class='nt'>&gt;&lt;span&gt;&lt;span&gt;</span>Hello<span class='nt'>&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;</span>
</code></pre></div><p>This is problematic for framework adoption since it’s another thing people will have to learn.</p><p>This pretty messy code since changed to:</p><div class='highlight'><pre><code class='html'>  <span class='nt'>&lt;a</span> <span class='na'>class=</span><span class='s'>&quot;cl-btn&quot;</span><span class='nt'>&gt;</span>Hello<span class='nt'>&lt;/a&gt;</span>
</code></pre></div><p>I did manage the gradient strokes by hooking them to the :before and :after elements. E.g. let’s say you have a button with a green to dark green gradient background:</p><div class='highlight'><pre><code class='css'><span class='nc'>.cl-btn</span> <span class='p'>{</span>
  <span class='k'>background</span><span class='o'>:</span> <span class='n'>linear</span><span class='o'>-</span><span class='n'>gradient</span><span class='p'>(</span><span class='n'>to</span> <span class='k'>bottom</span><span class='o'>,</span> <span class='nb'>green</span> <span class='m'>0</span><span class='o'>%,</span> <span class='nb'>darkgreen</span> <span class='m'>100</span><span class='o'>%</span><span class='p'>);</span> <span class='c'>/* W3C */</span>
<span class='p'>}</span>
</code></pre></div><p>If we include two pseudo elements that contains 100% of the space of the original element, we can use these to fake our new background:</p><div class='highlight'><pre><code class='css'><span class='nc'>.cl-btn</span><span class='nd'>:before</span><span class='o'>,</span>
<span class='nc'>.cl-btn</span><span class='nd'>:after</span> <span class='p'>{</span>
  <span class='k'>position</span><span class='o'>:</span> <span class='k'>absolute</span><span class='p'>;</span>
  <span class='k'>content</span><span class='o'>:</span> <span class='s2'>&quot;&quot;</span><span class='p'>;</span>
  <span class='k'>width</span><span class='o'>:</span> <span class='m'>100</span><span class='o'>%</span><span class='p'>;</span>
  <span class='k'>height</span><span class='o'>:</span> <span class='m'>100</span><span class='o'>%</span><span class='p'>;</span>
  <span class='k'>min-width</span><span class='o'>:</span> <span class='m'>100</span><span class='o'>%</span><span class='p'>;</span>
  <span class='k'>white-space</span><span class='o'>:</span> <span class='k'>nowrap</span><span class='p'>;</span>
<span class='p'>}</span>
</code></pre></div><p>By using a negative z-index we can order the :before and :after elements:</p><div class='highlight'><pre><code class='css'><span class='nc'>.cl-btn</span><span class='nd'>:after</span> <span class='p'>{</span>
  <span class='k'>top</span><span class='o'>:</span> <span class='m'>-1px</span><span class='p'>;</span>
  <span class='k'>left</span><span class='o'>:</span> <span class='m'>-1px</span><span class='p'>;</span>
  <span class='k'>padding</span><span class='o'>:</span> <span class='m'>1px</span><span class='p'>;</span> <span class='c'>/* This makes for 1px gradient border */</span>
  <span class='k'>z-index</span><span class='o'>:</span> <span class='m'>-2</span><span class='p'>;</span>
<span class='p'>}</span>

<span class='nc'>.cl-btn</span><span class='nd'>:before</span> <span class='p'>{</span>
  <span class='k'>top</span><span class='o'>:</span> <span class='m'>0</span><span class='p'>;</span>
  <span class='k'>left</span><span class='o'>:</span> <span class='m'>0</span><span class='p'>;</span>
  <span class='k'>padding</span><span class='o'>:</span> <span class='m'>0</span><span class='p'>;</span>
  <span class='k'>z-index</span><span class='o'>:</span> <span class='m'>-1</span><span class='p'>;</span>
<span class='p'>}</span>
</code></pre></div><p>Because we used negative z-index, create a new stacking context on .cl-btn so the elements don’t go below the original “page”.</p><div class='highlight'><pre><code class='css'><span class='nc'>.cl-btn</span> <span class='p'>{</span>
    <span class='o'>//</span> <span class='n'>Create</span> <span class='n'>new</span> <span class='n'>stacking</span> <span class='n'>context</span> <span class='n'>for</span> <span class='o'>:</span><span class='n'>before</span> <span class='n'>and</span> <span class='o'>:</span><span class='n'>after</span>
    <span class='k'>z-index</span><span class='o'>:</span> <span class='m'>1</span><span class='p'>;</span>
<span class='p'>}</span>
</code></pre></div><p>Now if we apply our backgrounds to the new pseudo elements, we have gradient borders without extra markup:</p><div class='highlight'><pre><code class='css'><span class='nc'>.cl-btn</span><span class='nd'>:before</span> <span class='p'>{</span>
    <span class='k'>background</span><span class='o'>:</span> <span class='n'>linear</span><span class='o'>-</span><span class='n'>gradient</span><span class='p'>(</span><span class='n'>to</span> <span class='k'>bottom</span><span class='o'>,</span> <span class='nb'>green</span> <span class='m'>0</span><span class='o'>%,</span> <span class='nb'>darkgreen</span> <span class='m'>100</span><span class='o'>%</span><span class='p'>);</span> <span class='c'>/* W3C */</span>
<span class='p'>}</span>

<span class='nc'>.cl-btn</span><span class='nd'>:after</span> <span class='p'>{</span>
    <span class='k'>background</span><span class='o'>:</span> <span class='n'>linear</span><span class='o'>-</span><span class='n'>gradient</span><span class='p'>(</span><span class='n'>to</span> <span class='k'>bottom</span><span class='o'>,</span> <span class='nb'>darkgreen</span> <span class='m'>0</span><span class='o'>%,</span> <span class='n'>reallydarkgreen</span> <span class='m'>100</span><span class='o'>%</span><span class='p'>);</span> <span class='c'>/* W3C */</span>
<span class='p'>}</span>
</code></pre></div><p>Now, the reality is a bit more complicated.</p><p>A simple implementation without z-indexing can be found <a href='https://github.com/Wolfr/css-gradient-strokes'>here</a> (<a href='http://www.wolfslittlestore.be/css-gradient-strokes/'>demo</a>).</p><p>If you’re feeling brave, poke around in the SCSS source for Clank <a href='https://github.com/Wolfr/clank/blob/master/scss/components/_buttons.scss'>here</a>.</p>
        </div>
      </article>
      
      <div id="disqus_thread"></div>
      <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'getclank'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </div>
  </div>

  <footer id="footer">
  <div class="inner-content">
    <p>The Clank source code is licensed under the <a href="http://opensource.org/licenses/MIT">MIT license</a>.</p>
    <p>All other content ©<a href="wolfslittlestore.be">Wolf’s Little Store</a> and contributors</p>
  </div>
</footer>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41356995-1', 'getclank.com');
  ga('send', 'pageview');

</script>

  
  <script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'getclank'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = '//' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
  </script>

</body>
</html>

