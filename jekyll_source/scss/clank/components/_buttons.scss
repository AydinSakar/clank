
.cl-btn {
  @include button-skin;

  display: block;
  font-weight: 700;
  cursor: pointer;
  position: relative;
  // Create new stacking context for :before and :after
  z-index: 1;

  font-weight: 700;
  min-width: 54px;
  text-align: center;
  font-size: 13px;
  line-height: 32px;

  @if $text-shadows {
    @include text-shadow-black;
    @if $accent-color-light {
      @include text-shadow-white;
    }
  }


  // Bar buttons
  .cl-bar-title &,
  .cl-bar-footer &,
  .cl-bar & {
    padding: 0 7px;
    margin: 5px;
    font-size: 13px;
  }
  
  .cl-content > & {
    margin: 0 10px;
  }

  // Less min width for icon only type buttons
  &.cl-btn-icon {
    min-width: 34px; // +10 = 44
  }
  &.cl-btn-icon-only {
    width: 44px;
  }
}

// CSS gradient strokes

@if $button-borders {

  .cl-btn:before,
  .cl-btn:after {
    position: absolute;
    content: "";
    width: 100%;
    height: 100%;
    min-width: 100%;
    border-radius: $default-border-radius;
    white-space: nowrap;
  }

  .cl-btn:after {
    top: -1px;
    left: -1px;
    padding: 1px;
    z-index: -2;
  
    // The gradient for the stroke
    @if $gradient {
      @include gradient-vertical(lighten($accent-color,2%), darken($accent-color,5%));
    } @else {
      background: darken($accent-color, 10%);
    }
  }

  // This is a copy @needs refactoring
  .cl-btn:hover:after {
    @if $gradient {
      @include gradient-vertical(darken($accent-color,7%), darken($accent-color, 13%));
    } @else {
      background: darken($accent-color, 20%);
    }
  }

  .cl-btn:before {
    top: 0;
    left: 0;
    padding: 0;
    z-index: -1;
    // The gradient for the background
    @if $gradient {
      @include gradient-vertical(saturate(lighten($accent-color, 25%), 10%), darken($accent-color, 0%));
    } @else {
      background: darken($accent-color, 5%);
    }
  }

  // This is a copy @needs refactoring
  .cl-btn:hover:before {
    @if $gradient {
      @include gradient-vertical(darken($accent-color, 2%), darken($accent-color, 8%));
      @if $shadows {
        @include box-shadow(inset 0 1px 0 rgba(0,0,0,0.15));
      }
    } @else {
      background: darken($accent-color, 10%);
    }

  }
}

// Primary buttons
.cl-btn-primary {
  @include button-skin-primary;
}



// CSS gradient strokes

@if $button-borders {

  .cl-btn-primary:after {
    // The gradient for the stroke
    @if $gradient {
      @include gradient-vertical(lighten($accent-color,2%), darken($accent-color,5%));
    } @else {
      background: darken($accent-color, 10%);
    }
  }



  .cl-btn-primary:before {
    // The gradient for the background
    @if $gradient {
      @include gradient-vertical(saturate(lighten($accent-color-primary, 25%), 10%), darken($accent-color-primary, 0%));
    } @else {
      background: darken($accent-color-primary, 5%);
    }
  }

  // This is a copy @needs refactoring
  .cl-btn-primary:hover:before {
    @if $gradient {
      @include gradient-vertical(darken($accent-color-primary, 2%), darken($accent-color-primary, 8%));
      @if $shadows {
        @include box-shadow(inset 0 1px 0 rgba(0,0,0,0.15));
      }
    } @else {
      background: darken($accent-color-primary, 10%);
    }

  }
}